jQuery(function(a){var b={initModels:function(){var a=this;this.Models={},this.Models.Vector={},this.Models.Vector=Backbone.Model.extend({defaults:{x:0,y:0},initialize:function(){console.log(this)},getMagnitudeFromPositions:function(a,b){return a^2+b^2},getAngleFromPositions:function(a,b){return Math.atan2(a,b)},getPositionXFromAngleAndMagnitude:function(a,b){return b*Math.cos(a)},getPositionYFromAngleAndMagnitude:function(a,b){return b*Math.sin(a)},add:function(a){var b=this.get("x"),c=this.get("y"),d=a.get("x"),e=a.get("y");this.set({x:b+d}),this.set({y:c+e})}}),this.Models.Particle=Backbone.Model.extend({initialize:function(){this.set({position:a.getNewVector(),velocity:a.getNewVector(),acceleration:a.getNewVector()})},move:function(){var a=this.get("acceleration"),b=this.get("velocity"),c=this.get("position");b.add(a),c.add(b)}}),this.Models.Emitter=Backbone.Model.extend({defaults:{spread:Math.PI/32,color:"#999"},initialize:function(){this.set({position:a.getNewVector(),velocity:a.getNewVector()})},emitParticle:function(){var b,c,d,e,f,g,h,i,j,k,l,m,n;return b=this.get("spread"),c=this.get("velocity"),d=c.get("x"),e=c.get("y"),h=c.getAngleFromPositions(d,e)+b-Math.random()*b*2,g=c.getMagnitudeFromPositions(d,e),i=this.get("position"),j=i.get("x"),k=i.get("y"),l=a.getNewVector(j,k),m=c.getPositionXFromAngleAndMagnitude(angle,magnitude),n=c.getPositionYFromAngleAndMagnitude(angle,magnitude),f=this.getNewVector(m,n),a.getNewParticle(l,f)}})},getNewVector:function(a,b){return new this.Models.Vector({x:a||0,y:b||0})},getNewParticle:function(a,b,c){return new this.Models.Particle({position:a||this.getNewVector(),velocity:b||this.getNewVector(),acceleration:c||this.getNewVector()})},setCanvasHeight:function(a){this.Canvas.el.height=a},setCanvasWidth:function(a){this.Canvas.el.width=a},clear:function(){this.Canvas.ctx.clearRect(0,0,this.Canvas.el.width,this.Canvas.el.height)},queue:function(){},update:function(){},draw:function(){},loop:function(){this.clear(),this.update(),this.draw(),this.queue()},initCanvas:function(){this.Canvas={},this.Canvas.el=document.getElementById("emission"),this.Canvas.ctx=this.Canvas.el.getContext("2d"),this.setCanvasWidth(800),this.setCanvasHeight(800)},init:function(){this.initCanvas(),this.initModels()}};b.init()});